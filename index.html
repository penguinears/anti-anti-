<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>The Anti Anti Gooners Society!</title>
  <meta name="description" content="Community for Anti-Anti-Gooners with sign-ups, comments, poll, and YouTube Shorts">

  <style>
    body { font-family: Arial, sans-serif; line-height: 1.6; max-width: 900px; margin: auto; padding: 20px; background: #121212; color: #f0f0f0; }
    h1,h3 { text-align: center; color: #ffffff; }
    button { margin: 5px; padding: 8px 15px; cursor: pointer; border-radius: 5px; background-color: #1e88e5; color: white; border: none; font-size: 14px; }
    button:hover { transform: scale(1.05); transition: 0.2s; background-color: #1565c0; }
    ul { list-style: none; padding-left: 0; }
    li { margin: 5px 0; padding: 6px; background: #1e1e1e; border-radius: 5px; }
    #banner { position: fixed; top: 0; left: 0; width: 100%; background: #ffcc00; color: black; text-align: center; padding: 10px; font-size: 16px; z-index: 1000; }
    #banner button { margin-left: 10px; background:#333; color:white; }
    .comment-box { border: 1px solid #333; padding: 10px; margin: 8px 0; background: #1c1c1c; border-radius: 6px; }
    .comment-meta { font-size: 12px; color: gray; margin-bottom: 5px; }
    .reply-box { margin-left: 20px; border-left: 2px solid #555; padding-left: 10px; }
    .comment-input { display: flex; gap: 10px; margin-top: 10px; }
    .comment-input input { flex: 1; padding: 8px; border-radius: 5px; border: 1px solid #444; background:#222; color:white; }
    canvas { position: fixed; pointer-events: none; top: 0; left: 0; width: 100%; height: 100%; z-index: 9999; }
    .wall-section { border:1px solid #333; padding:10px; margin:10px 0; border-radius:6px; }
    .wall-section h3 { margin-top:0; }
  </style>
</head>
<body>

<!-- Banner -->
<div id="banner">
  ‚ö†Ô∏è No backend yet ‚Äî your nickname, sign-up, and comments are only saved in this browser.
  <button onclick="document.getElementById('banner').style.display='none';">Dismiss</button>
</div>

<h1>The Anti Anti Gooners Society!</h1>
<h3>We are gonna stand up against anti-gooners</h3>

<!-- Sign-up Section -->
<button onclick="signUp()">JOIN THE COURSE</button>
<h3>Signed Up:</h3>
<ul id="nameList"><li>No sign-ups yet.</li></ul>

<!-- Poll Section -->
<h3>Anti-Anti-Gooner Poll</h3>
<p>Do you goon?</p>
<button onclick="vote('goon')">Goon üòé</button>
<button onclick="vote('not')">Not to Goon üôÖ</button>
<p id="results">Goon: 0 | Not to Goon: 0</p>

<!-- Walls Section -->
<div style="margin-top:30px;">
  <h3>Community Walls</h3>
  
  <button onclick="toggleWall('goonersWall')">üìú Open Gooners Wall (Update Log)</button>
  <div id="goonersWall" class="wall-section" style="display:none;">
    <h3>Update Log</h3>
    <ul id="updateList"></ul>
  </div>

  <button onclick="toggleWall('shameWall')">üö´ Open Anti Anti-Gooners Wall of Shame</button>
  <div id="shameWall" class="wall-section" style="display:none; background:#2a1c1c;">
    <h3>Anti Anti-Gooners Wall of Shame</h3>
    <p>No one shamed yet...</p>
  </div>
</div>

<!-- Comments Section -->
<div style="margin-top:30px;">
  <h3>Comments</h3>
  <div class="comment-input">
    <input type="text" id="commentInput" placeholder="Type your comment...">
    <button onclick="postComment()">Send</button>
  </div>
  <div id="commentsList"><p>No comments yet.</p></div>
</div>

<!-- Music -->
<audio id="music" autoplay loop>
  <source src="https://www.ancta.com/wp-content/uploads/2025/01/chubina.mp3" type="audio/mp3">
</audio>

<!-- Confetti Canvas -->
<canvas id="confettiCanvas"></canvas>

<script>
  // Nickname setup
  let nickname = localStorage.getItem("nickname");
  if(!nickname){
    nickname = prompt("Pick a nickname:")?.trim() || "Anon";
    localStorage.setItem("nickname", nickname);
  }

  // Poll
  let votes = { goon: 0, not: 0 };
  function vote(option) {
    if(option==='goon') votes.goon++;
    if(option==='not') votes.not++;
    document.getElementById('results').textContent = `Goon: ${votes.goon} | Not to Goon: ${votes.not}`;
  }

  // Sign-ups
  const nameList = document.getElementById('nameList');
  let signups = JSON.parse(localStorage.getItem('signups')) || [];
  renderSignups();

  function signUp() {
    if(signups.includes(nickname)){
      return alert("You already signed up as " + nickname + "!");
    }
    signups.push(nickname);
    localStorage.setItem('signups', JSON.stringify(signups));
    renderSignups();
    launchConfetti();
  }

  function renderSignups() {
    nameList.innerHTML = '';
    if(signups.length){
      signups.forEach(name => {
        const li = document.createElement('li');
        li.textContent = name;
        nameList.appendChild(li);
      });
    } else {
      nameList.innerHTML = '<li>No sign-ups yet.</li>';
    }
  }

  // Comments
  const commentInput = document.getElementById('commentInput');
  const commentsList = document.getElementById('commentsList');
  let comments = JSON.parse(localStorage.getItem('comments')) || [];
  renderComments();

  function postComment() {
    const text = commentInput.value.trim();
    if(!text) return alert("Enter a comment.");
    const comment = { nickname, text, time: new Date().toLocaleString(), replies: [] };
    comments.push(comment);
    localStorage.setItem('comments', JSON.stringify(comments));
    commentInput.value = '';
    renderComments();
    launchConfetti();
  }

  function renderComments() {
    commentsList.innerHTML = '';
    if(comments.length){
      comments.forEach((c, i) => {
        const div = renderComment(c, i);
        commentsList.appendChild(div);
      });
    } else {
      commentsList.innerHTML = '<p>No comments yet.</p>';
    }
  }

  function renderComment(c, index, isReply=false) {
    const div = document.createElement('div');
    div.className = "comment-box" + (isReply ? " reply-box" : "");
    div.innerHTML = `
      <div class="comment-meta"><b>${c.nickname}</b> ‚Ä¢ ${c.time}</div>
      <div>${c.text}</div>
      <button onclick="replyTo(${index})">Reply</button>
    `;
    if(c.replies.length){
      c.replies.forEach(r => {
        div.appendChild(renderComment(r, index, true));
      });
    }
    return div;
  }

  function replyTo(index) {
    const reply = prompt("Write your reply:");
    if(!reply) return;
    comments[index].replies.push({ nickname, text: reply, time: new Date().toLocaleString(), replies: [] });
    localStorage.setItem('comments', JSON.stringify(comments));
    renderComments();
  }

  // Update Log (controlled via code)
  const updates = [
    { version: "v1.0", text: "Site launched with dark theme and update log.", date: "2025-09-13" },
    { version: "v1.1", text: "Comments section improved, nicknames added.", date: "2025-09-14" },
    { version: "v1.2", text: "Gooners Wall now shows update log only.", date: "2025-09-15" }
  ];

  function renderUpdates() {
    const list = document.getElementById('updateList');
    list.innerHTML = '';
    updates.forEach(u => {
      const li = document.createElement('li');
      li.innerHTML = `<b>${u.version}</b> (${u.date}): ${u.text}`;
      list.appendChild(li);
    });
  }
  renderUpdates();

  // Toggle Walls
  function toggleWall(id) {
    const el = document.getElementById(id);
    el.style.display = (el.style.display === "none" || el.style.display === "") ? "block" : "none";
  }

  // Confetti
  const canvas = document.getElementById('confettiCanvas');
  const ctx = canvas.getContext('2d');
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
  let confettiParticles = [];

  function launchConfetti() {
    for(let i=0;i<120;i++){
      confettiParticles.push({
        x: Math.random()*canvas.width,
        y: Math.random()*canvas.height - canvas.height,
        r: Math.random()*6 + 4,
        d: Math.random()*20 + 10,
        color: `hsl(${Math.random()*360},100%,50%)`,
        tilt: Math.random()*10 - 10
      });
    }
    requestAnimationFrame(drawConfetti);
  }

  function drawConfetti() {
    ctx.clearRect(0,0,canvas.width,canvas.height);
    confettiParticles.forEach((p,i)=>{
      ctx.beginPath();
      ctx.lineWidth = p.r;
      ctx.strokeStyle = p.color;
      ctx.moveTo(p.x + p.tilt + p.r/2, p.y);
      ctx.lineTo(p.x + p.tilt, p.y + p.tilt + p.r/2);
      ctx.stroke();
      p.y += (Math.cos(p.d) + 3 + p.r/2)/2;
      p.tilt += 0.1;
      if(p.y > canvas.height) confettiParticles.splice(i,1);
    });
    if(confettiParticles.length>0) requestAnimationFrame(drawConfetti);
  }
</script>

</body>
</html>

