<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Anti Anti-Gooners</title>
<style>
body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #ffdde1, #ee9ca7); margin: 0; padding: 0; color: #333; }
header { background: #8b0000; color: white; padding: 20px; text-align: center; border-bottom-left-radius: 20px; border-bottom-right-radius: 20px; }
header h1 { margin: 0; font-size: 2.5em; }
main { max-width: 900px; margin: 20px auto; padding: 20px; background: white; border-radius: 16px; box-shadow: 0 8px 20px rgba(0,0,0,0.15); }
p { font-size: 1.2em; line-height: 1.6; margin-bottom: 20px; }
button { margin: 10px; padding: 12px 24px; border: none; border-radius: 12px; background: #8b0000; color: white; font-weight: bold; cursor: pointer; transition: 0.3s; }
button:hover { background: #b22222; transform: scale(1.05); }
#signup-list, #comments, #history-box { margin: 20px auto; padding: 20px; background: #fafafa; border-radius: 16px; box-shadow: 0 8px 15px rgba(0,0,0,0.15); }
.list-item { margin: 5px 0; font-weight: 500; }
.comment { margin-bottom: 15px; padding: 12px; border-left: 4px solid #8b0000; background: #fff; border-radius: 8px; }
.reply { margin-left: 25px; font-size: 0.9em; background: #f1f1f9; border-left: 3px solid #555; padding: 8px; border-radius: 6px; margin-top: 8px; }
.comment img { max-width: 200px; display: block; margin-top: 8px; border-radius: 8px; }
#commentInput, #imageInput { margin-top: 10px; }
</style>
</head>
<body>
<header>
<h1>Anti Anti-Gooners</h1>
</header>
<main>
<p>On this site, we celebrate gooning as more than just a pastime — it’s a lifestyle, a mindset, and a vibe.</p>

<!-- Signup Section -->
<button onclick="signUp()">Sign Up</button>
<div id="signup-list"><h3>Signed Up:</h3></div>

<!-- Comments Section -->
<div id="comments">
  <h2>Comments</h2>
  <input type="text" id="commentInput" placeholder="Leave a comment...">
  <input type="file" id="imageInput" accept="image/*">
  <button onclick="postComment()">Post</button>
  <div id="commentList"></div>
</div>

<!-- History Section -->
<div id="history-box">
  <h2>The History of Gooning</h2>
  <p>The history of gooning stretches back as far as recorded human culture... (essay text here).</p>
</div>
</main>

<script>
let firstComment = true;

// Load saved data
let signups = JSON.parse(localStorage.getItem("signups")) || [];
let comments = JSON.parse(localStorage.getItem("comments")) || [];

function saveData() {
  localStorage.setItem("signups", JSON.stringify(signups));
  localStorage.setItem("comments", JSON.stringify(comments));
}

function renderSignups() {
  const listDiv = document.getElementById("signup-list");
  listDiv.innerHTML = "<h3>Signed Up:</h3>";
  if (signups.length === 0) {
    listDiv.innerHTML += "<p>No one has signed up yet.</p>";
  } else {
    signups.forEach(name => {
      listDiv.innerHTML += `<div class='list-item'>• ${name}</div>`;
    });
  }
}

function renderComments() {
  const list = document.getElementById("commentList");
  list.innerHTML = "";
  if (comments.length === 0) {
    list.innerHTML = "<p>No comments yet. Be the first!</p>";
    return;
  }
  comments.forEach((c, i) => {
    let html = `<div class='comment'><strong>${c.name}</strong>: ${c.text}`;
    if (c.image) {
      html += `<img src="${c.image}">`;
    }
    html += `<div><button onclick="replyTo(${i})">Reply</button></div>`;

    if (c.replies) {
      c.replies.forEach(r => {
        html += `<div class='reply'><strong>${r.name}</strong>: ${r.text}</div>`;
      });
    }
    html += `</div>`;
    list.innerHTML += html;
  });
}

function signUp() {
  const name = prompt("Enter your name:");
  if (name) {
    signups.push(name);
    saveData();
    renderSignups(); // show immediately
  }
}

function postComment() {
  const input = document.getElementById("commentInput");
  const imgInput = document.getElementById("imageInput");
  const text = input.value.trim();
  if (!text && !imgInput.files[0]) return;

  if (firstComment) {
    alert("⚠️ Sending inappropriate images is not accepted.");
    firstComment = false;
  }

  const comment = { name: "Anonymous", text, replies: [] };

  if (imgInput.files[0]) {
    const reader = new FileReader();
    reader.onload = e => {
      comment.image = e.target.result;
      comments.push(comment);
      saveData();
      renderComments(); // show immediately
    };
    reader.readAsDataURL(imgInput.files[0]);
  } else {
    comments.push(comment);
    saveData();
    renderComments(); // show immediately
  }

  input.value = "";
  imgInput.value = "";
}

function replyTo(index) {
  const replyText = prompt("Enter your reply:");
  if (replyText) {
    comments[index].replies.push({ name: "Anonymous", text: replyText });
    saveData();
    renderComments(); // show immediately
  }
}

// Render on load
renderSignups();
renderComments();
</script>
</body>
</html>


